# 사용자 가이드: 나만의 트리거 만들기

이 가이드는 코딩 없이 UI를 사용하여 캐릭터의 행동 규칙(트리거)을 직접 만드는 방법을 단계별로 안내합니다.

## 1. 크리에이터 패널 열기

1.  화면 왼쪽의 사이드바에서 붓 모양의 **크리에이터 패널 아이콘**을 클릭하세요.
2.  크리에이터 패널이 나타나면 '커스텀 트리거' 섹션을 볼 수 있습니다. 이곳에서 직접 만든 모든 트리거를 관리할 수 있습니다.

## 2. 새 트리거 만들기

1.  크리에이터 패널에서 **[새 트리거 추가]** 버튼을 클릭합니다.
2.  '새 트리거 생성'이라는 제목의 **트리거 에디터 패널**이 열립니다.

## 3. 트리거 내용 채우기

트리거는 "언제(WHEN), 어떤 조건에서(IF), 무엇을 할지(THEN)"의 세 부분으로 구성됩니다.

### 가. 트리거 이름

-   이 트리거가 어떤 동작을 하는지 쉽게 알아볼 수 있도록 이름을 지어주세요. (예: "아침 인사", "채팅에 대답하기")

### 나. 실행 시점 (WHEN)

트리거가 언제 조건을 검사할지 결정합니다.

-   **상태 변경 시 (주기적 확인)**: 시스템이 계속해서 조건을 확인하다가, 조건이 맞는 순간이 되면 액션을 실행합니다. (예: "시간이 아침 7시가 되면")
-   **특정 이벤트 발생 시**: 특정 사건이 발생했을 때만 조건을 확인합니다. (예: "사용자가 채팅 메시지를 보냈을 때")
    -   이 옵션을 선택하면, 어떤 이벤트에 반응할지 드롭다운 메뉴에서 선택할 수 있습니다. (예: `chat:newMessage`)

### 다. 조건 (IF)

액션이 실행되기 위해 만족해야 하는 구체적인 조건입니다.

-   **키 (Key)**: 무엇을 확인할지 정합니다.
    -   `WHEN`에서 '이벤트'를 선택했다면, `event.text`처럼 이벤트에 포함된 정보를 사용할 수 있습니다.
    -   `my_context_key`처럼 `ContextStore`에 저장된 값을 사용할 수도 있습니다.
-   **연산자 (Operator)**: 어떻게 비교할지 정합니다.
    -   `==` (같다), `!=` (다르다), `>` (크다), `<` (작다), `exists` (존재한다), `not exists` (존재하지 않는다) 등이 있습니다.
-   **비교 값 (Value)**: '키'와 비교할 대상 값입니다.

> **예시**: 사용자가 보낸 채팅 메시지 내용이 "안녕"과 같을 때
> - 키: `event.text`
> - 연산자: `==`
> - 비교 값: `안녕`

### 라. 액션 (THEN)

조건이 모두 만족되었을 때 캐릭터가 수행할 행동입니다.

1.  드롭다운 메뉴에서 원하는 행동을 선택하세요. (예: `speak`, `playAnimation`)
    -   **이 목록은 시스템에 등록된 모든 사용 가능한 액션을 자동으로 불러와 보여줍니다.** 개발자가 새로운 액션을 추가하면, 별도의 UI 수정 없이도 이 목록에 자동으로 나타나게 됩니다.
2.  선택한 행동에 필요한 추가 정보(파라미터)를 입력합니다.
    -   `speak` 선택 시: 말할 내용을 텍스트로 입력하는 필드가 나타납니다.
    -   `playAnimation` 선택 시: 재생할 애니메이션 파일의 이름을 입력하는 필드가 나타납니다.
    -   **각 액션에 필요한 입력 필드는 시스템이 자동으로 생성해줍니다.**

## 4. 저장하기

-   모든 내용을 채웠다면 **[저장]** 버튼을 클릭하세요.
-   트리거 에디터 패널이 닫히고, 크리에이터 패널 목록에 방금 만든 트리거가 추가된 것을 확인할 수 있습니다.

## 5. 트리거 관리 (수정, 삭제, 활성화)

크리에이터 패널의 목록에서 다음 작업을 할 수 있습니다.

-   **수정**: [수정] 버튼을 누르면 해당 트리거의 내용이 채워진 트리거 에디터가 다시 열립니다.
-   **삭제**: [삭제] 버튼을 눌러 더 이상 필요 없는 트리거를 제거할 수 있습니다.
-   **활성화/비활성화**: 이름 옆의 토글 스위치를 끄면 트리거가 잠시 비활성화됩니다. 완전히 삭제하지 않고 잠시 꺼두고 싶을 때 유용합니다.
